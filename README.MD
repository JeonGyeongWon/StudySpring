2019/03/19 그간 공부했던 Spring을 다시 복습하면서 공부한 내용들을 기록할 것이다.

JSP를 공부할때 최범균님의 책을 보았는데 스프링역시 최범균님의 <b>스프링 4 프로그래밍 입문</b>을 볼것이다. 

목차는 아례와 같다.
https://github.com/madvirus/spring4fs에서 해당 책의 각 쳅터의 코드를 받아볼 수있다.
현재 페이지는 직접 손으로 코딩하면서 모르는 것들을 주석을 달고 다시 한번 정리하기 위해
만든 개인적인 페이지이다.

하루에 2개의 쳅터씩 할 예정이다.

1. 스프링의 관한 간략 소개
2. 스프링 시작 이 책을 구입하기전 STS를 사용하였으나 책을 따라 하도록 결심했다.
3. 스프링 DI (의존)
4. DI 자동주입
5. 자바코드를 이용한 설정 
6. 빈 라이클 사이클과 범위
7. AOP 소개
8. DB연동 -> 여기서는 JDBCTemplet을 사용하였다. 개인적으로 MyBatis를 실무에서 많이 사용한다는 말을 들어서 MyBatis를 공부할 예정이다.
사용 DB는 MySQL이다
9. 스프링 MVC
10. 스프링 MVC 동작 방식
11. 매핑, 커맨드객체, 리다이렉트, 폼 태그, 모델
12. 메시지, 커맨드 객체 검증, 세션 , 인터셉터, 쿠키
13. 날짜 값 변화, @PathVariable, 익셉션 처리
14. 스프링 MVC 자바 설정
15. 웹 어플리케이션 구조 개요
16. 프로필과 프로퍼티

부록 A 메이븐 기초

2019/03/19 

Chapter1. jdk, Eclipse, Maven, Apache Tomcat등을 설치하였다.
※책에서는 jdk1.7, Maven 3.2, Apache Tomcat8을 사용하였으나
나는 jdk1.8, Maven3.6, Apache Tomcat8.5를 사용하였다. 톰캣에 경우 기존에 사용하려던 8.0을 사용하려고 했으나
2019년 2월 중순? 부터 8.0 다운로드가 사라지고 8.5가 생겼기 때문에 8.5를 사용하였다.

각 설치 방법은 기초적인 것이므로 생략하였다.
Chapter1의 핵심은 스프링은3버전 이후 각 핵심 모듈을 메이븐을 통해 다운받을 수 있도록 되었다. 


Chapter2. 스프링 프로젝트를 시작했다. 
이클립스 or STS에서 프로젝트를 생성하지 않고 전체 수동으로 설치하였다. 
나의 경우 C드라이브 바로 밑에 sp4-chap02라는 폴더와 하위폴더로 src, main, java, resource를 만들어주었다
이때 java, resource는 main밑에 만들어 주었다. <b>그 이후 메이븐 프로젝트의 설정파일인 pom.xml</b>을 수동으로 생성하였다
수동으로 작성한 후 명령 프롬포트에서 해당 프로젝트를 메이븐으로 컴파일 시켜주었다.
확실히 수동으로 하니 원래 걸렸던 시간에 5배정도는 더 걸린것 같다.

여기서 잠깐 메이븐에 저장소와 폴더 구조에 대해 요약해야겠다.

메이븐은 컴파일 or 코드 실행시 <b>로컬 저장소</b>에서 [groupId]\[artifactId]\[version] 폴더에 artifactId-version.jar 형식의 파일을 찾는다.
만약 존재하지 않으면 <b>원격 저장소</b>에서 해당 파일을 다운받아 로컬 저장소에 복사한 후 사용한다.
※보통 사용자홈폴더/.m2폴더를 로컬 저장소로 사용한다.
※원격 저장소는 http://repo.meven.apache.org 이다. 파일을 복사할때 해당 아티팩트가 다른 아티팩트를 의존하고 있다면 그 아티팩트도 같이 다운로드 받는다. 이를 <b>의존의 전이</b>라고 한다. 수동으로 하기전 나는 이 원격저장소에서 Maven이 적힌 탭을 누르고 복붙하여 가져왔다.

폴더구조로는 java는 자바소스코드, resource는 설정XML파이리나 프로퍼티 파일등을 위치시키는 곳이다.
만약 웹 어플리케이션 일 경우 webapp에 JSP 코드나 web.xml 파일 등이 들어간다.

수동으로 생성한 프로젝트를 임포트 하는것은 생략하겠다.

해당 프로젝트에서 xml(설정)파일을 만들어 <bean>태그를 사용하여 객체를 생성하고 property를 이용하여 set메서드를 호출하였다.
이후 Main클래스에서 GenericXmlApplicationContext(xml파일을 읽어 bean를 생성하고 관리하는 역할)을 이용하여 테스트 하였다.
  
GenericXmlApplicationContext은 중요한 개념이니 정리를 한번 더 하겠다.

스프링의 핵심 기능은 객체 생성 및 초기화이다.
이와 관련된 기능은 ApplicationContext인터페이스의 정의되어있다. 
※상속도는 P47에 표시되엉 있다.
자주 사용하는 스프링 컨테이너 객체(최하위 계층에 위치)를 정리하겠다.

GenericXmlApplicationContext -> XML파일 읽어들임
AnnotationConfigApplicationContext -> 어노테이션을 이용하여 읽어들임 -> 이후 설명
GenericGroovyApplicationContext ->그루비 설정코드를 읽어들임 -> 솔직히 그루비 설정정보가 무엇인지 모르겠다.
이 3가지를 많이 사용하는데 나는 보통 GenericApplicationContext나 GenericXmlApplicationContext를 많이 사용했다.
참고로 GenericApplicationContext은 위 3개의 부모 클래스이다.

<b>중요! 스프링은 별도의 설정을 하지 않을 경우 한 개의 빈 객체만을 생성한다 (싱글톤)</b> 이외에 프로토타입 빈이 있지만 이 후 설명하겠다.





